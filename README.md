# Домашнее задание к занятию "5.1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."

## Задача 1

### Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.


### Решение:


- В первом случае используются узко специализированный операционные системы, гипервизоры. Они содержат только функционал, необходимый для безопасного распределения ресурсов между гостивыми операционными системами, эмуляцией устройств, обеспечивают изолированность. Соответственно объем гипервизоров не велик. К примеру iso образа VMWare ESXi 6.7 около 327 Мб. 
- В случае с паравиртуализацией, в операционной системе запускается программа, которой доступны выделенные для нее ресурсы, которые она может распределять между виртуальными машинами. В реальности процесс выглядит сложнее, например KVM является модулем ядра ОС.
В любом случае ресурсами сервера управляет операционная система общего назначения. 
- В третьем варианте нет необходимости эмулировать устройства и т.д. Операционная система должа поддерживать несколько изолированных экзепляров пространства пользователей. В данном курсе уже были затронуты подобные механизмы - chroot, cgroups. В этом случае виртуализация так же как и в предыдущем обеспечивается за счет операционной системы общего назначения. Если в случае с паравиртуализацией можно в ОС Ubuntu с помощью KVM запустить к примеру MacOS Catalina и даже получиться пробросить звук из гостевой машины, то с виртуализацией на основе ОС такой вариант пожалуй не получиться реализовать. Необходимо, чтобы ядра гостевой и хостовой ОС были одинаковыми.
 
## Задача 2

### Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

### Решение:

* Высоконагруженная база данных, чувствительная к отказу.

1. Пожалуй лучшим вариантом будет аппаратная виртуализация, можно обеспечить высокоотказоустойчивость и маштабируемость, но в списке выбора ее нет, так что лучше реализовать на физическом сервере. Можно было бы предположить паравиртуализацию, но не получается представить скажем базу данных Oracle с бизнес логикой реализованной на PL/SQL запущенный в VirtualBox или MS SQL с виртуализацией уровня ОС.

2. Различные web-приложения можно спокойно запустить с использованием виртуализация уровня ОС. Приложения будут изолированны каждый в своем пространстве. Отказ в обслуживании одного приложения не повличет проблем с другими. Т.е. необходимо и достаточно.

3. Windows системы для использования бухгалтерским отделом. Пожалуй лучшим решением будет паравиртуализация Hyper-V.

4. Системы, выполняющие высокопроизводительные расчеты на GPU. Не встречал, чтобы процессорное время GPU удачно управлялось системами виртуализации, возможно просто не сталкивался. Считаю наиболее удачный вариант - физический сервер.

## Задача 3

### Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

### Решение:

## Задача 4

### Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

### Решение:

Проблемы с администрированием. Для каждой среды виртуализации нужен свой подход, набор скриптов, возможно дополнительные программы, например для резервного копирования и т.п. В случае приема на работу персонала появляется более сложный набор требований и соответственно возникают проблемы с нахождением компрамисов между специалистом с более высокой з/п и специалистом готовым разобраться в процессе если конечно после разбирательства процесс все еще будет жив.
Если все же пришлось работать с такой средой, к примеру в организации все было построено на Hyper-V, но появилось требование импортозамещения и это необходимо учитывать во всех новых проектах. Для минимизации рисков и проблем необходимо найти одно решение соответствующее большенству наиболее важных требований и следовать ему. В процессе внедрения следить за документированием. 
Если бы у меня был выбор, и можно было не оброщать внимания на стоимость железа и лицензий и то, что для одного небольшого сайта, вместо виртуализации уровня ОС поднимается отдельная ВМ, и приходиться затратить 40 Гб, а иногда и все 100 Гб дискового пространства. То пожалуй при таком подходе я бы выбрал VMWare ESXi.
